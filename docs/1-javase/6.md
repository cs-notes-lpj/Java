
> 在使用二进制存储数据的计算机中，浮点数存在误差，具体原因 see 补充知识 at [here](https://liupj.top/2021/08/31/01)

给你一个浮点数，请你用二进制来表示它～

为计算方便，我们这里以 `float` 为例

根据国际标准 IEEE_754，任何一个 `二进制形式的浮点数 V` 都可以被表示成科学计数法的形式，即：`V = (-1)^S * M * 2^E`

  - `V` means value.

  - `S` means sign，符号位

  - `M` means mantissa，尾数

    - 理论上来说，这里有效数字的真实取值范围是 [1, 2)，即 1.xxxxxx 的形式

    - 但由于 IEEE_754 规定：在计算机内部保存有效数字时，默认这个数的第一位总是 1，因此可以舍去不写，只保存后面的小数部分 xxxxxx

    - 所以被命名为了「尾数」mantissa

    - 这么做可以节省 1 位有效数字

    - 比如：保存 1.0101 的时候，只保存 0101，等到读取的时候，再把第一位的 1 加上去

    - 以 float，即 32 位浮点数为例：留给 M 的只有 23 位，若舍去首位的 1，那么就相当于可以保存 24 位有效数字

  - `E` means exponent，指数/阶码

    - 由于 E 是一个 unsigned int，这意味着，如果 E 是 8 位，则其取值范围是 [0, 255]，如果 E 是 11 位，则其取值范围是 [0, 2047]

    - 然而科学计数法中的 E 可以是负数

    - 因此 IEEE_754 规定：E 必须减去一个中间数才是其真实值（对于 8 位的 E，这个中间数是 127；对于 11 位的 E，这个中间数是 1023）

    - 比如：`2^3` 的 E 是 3，当保存成 float，即 32 位浮点数时，必须保存成 3+127=130，即 10000010

![20220922083711](https://aliyun-oss-lpj.oss-cn-qingdao.aliyuncs.com/images/by-clipboard/20220922083711.png)

**举个例子奥～**

![20220925171337](https://aliyun-oss-lpj.oss-cn-qingdao.aliyuncs.com/images/by-clipboard/20220925171337.png)

